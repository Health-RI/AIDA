<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel Kapitan">
<meta name="author" content="Jack Broeren">
<meta name="author" content="Jeroen Beliën">
<meta name="author" content="Niels Bolding">
<meta name="author" content="Stefan van der Loop">
<meta name="author" content="Yannick Vinkesteijn">
<meta name="author" content="Joep de Ligt">
<meta name="keywords" content="data engineering, lakehouse, Apache Arrow, Apache Parquet, Apache Icebert, duckdb, polars">

<title>Layers, pipes and patterns: detailing the concept of data stations as a foundational building block for federated data systems in healthcare – Working document AI platform</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-3c80441e0dd81c448ea452544d21bcc7.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <div id="quarto-announcement" data-announcement-id="5a3953608c613b1fc2dd7a15dda4f10a" class="alert alert-primary hidden"><i class="bi bi-info-circle quarto-announcement-icon"></i><div class="quarto-announcement-content">
<p><strong>Let op</strong> - dit is een werkdocument dat bedoeld is om met experts, partners en andere belanghebbenden in discussie te gaan.</p>
</div><i class="bi bi-x-lg quarto-announcement-action"></i></div>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#designing-and-implementing-health-data-platforms-is-notoriously-difficult" id="toc-designing-and-implementing-health-data-platforms-is-notoriously-difficult" class="nav-link active" data-scroll-target="#designing-and-implementing-health-data-platforms-is-notoriously-difficult">Designing and implementing health data platforms is notoriously difficult</a></li>
  <li><a href="#a-confluence-of-developments-towards-federated-data-systems" id="toc-a-confluence-of-developments-towards-federated-data-systems" class="nav-link" data-scroll-target="#a-confluence-of-developments-towards-federated-data-systems">A confluence of developments towards federated data systems</a></li>
  <li><a href="#desiderata-of-federated-data-systems" id="toc-desiderata-of-federated-data-systems" class="nav-link" data-scroll-target="#desiderata-of-federated-data-systems">Desiderata of federated data systems</a>
  <ul class="collapse">
  <li><a href="#design-principles-of-analytical-data-systems" id="toc-design-principles-of-analytical-data-systems" class="nav-link" data-scroll-target="#design-principles-of-analytical-data-systems">Design principles of analytical data systems</a></li>
  <li><a href="#reference-implementation-with-current-open-source-software-oss-components" id="toc-reference-implementation-with-current-open-source-software-oss-components" class="nav-link" data-scroll-target="#reference-implementation-with-current-open-source-software-oss-components">Reference implementation with current open source software (OSS) components</a></li>
  <li><a href="#bringing-it-all-together-for-federated-analytics-machine-learning-fl" id="toc-bringing-it-all-together-for-federated-analytics-machine-learning-fl" class="nav-link" data-scroll-target="#bringing-it-all-together-for-federated-analytics-machine-learning-fl">Bringing it all together for federated analytics &amp; machine learning (FL)</a></li>
  </ul></li>
  <li><a href="#parking-lot" id="toc-parking-lot" class="nav-link" data-scroll-target="#parking-lot">Parking lot</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="index.pdf"><i class="bi bi-file-pdf"></i>Typst</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Layers, pipes and patterns: detailing the concept of data stations as a foundational building block for federated data systems in healthcare</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://kapitan.net">Daniel Kapitan</a> <a href="mailto:daniel@kapitan.net" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0001-8979-9194" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Health-RI
          </p>
        <p class="affiliation">
            Dutch Hospital Data
          </p>
        <p class="affiliation">
            Eindhoven University of Technology
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Jack Broeren </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Health-RI
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Jeroen Beliën </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Health-RI
          </p>
        <p class="affiliation">
            Amsterdam UMC
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Niels Bolding </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Health-RI
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author">Stefan van der Loop </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Cumuluz
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://yannickvinkesteijn.com/">Yannick Vinkesteijn</a> <a href="mailto:y.vinkesteijn@dhd.nl" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0009-0009-7761-5381" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Dutch Hospital Data
          </p>
      </div>
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://hartwigmedicalfoundation.nl">Joep de Ligt</a> <a href="mailto:j.deligt@hartwigmedicalfoundation.nl" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> <a href="https://orcid.org/0000-0002-0348-419X" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Hartwig Medical Foundation
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>We describe …</p>
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>data engineering, lakehouse, Apache Arrow, Apache Parquet, Apache Icebert, duckdb, polars</p>
  </div>
</div>

</header>


<section id="designing-and-implementing-health-data-platforms-is-notoriously-difficult" class="level2">
<h2 class="anchored" data-anchor-id="designing-and-implementing-health-data-platforms-is-notoriously-difficult">Designing and implementing health data platforms is notoriously difficult</h2>
<p>The ambition for a seamlessly connected digital healthcare ecosystem, capable of leveraging vast quantities of patient data remains illusive. Designing and implementing health data platforms is notoriously difficult, given heterogeneity and complexity of such systems. As a starting point - and to frame the scope of this paper - consider the trade-offs along the following two design criteria.</p>
<p>First, we distinguish health data platform for primary or secondary health availability <span class="citation" data-cites="cascini2024health">(<a href="#ref-cascini2024health" role="doc-biblioref">Cascini et al. 2024</a>)</span>. It is well known data systems have different design an performance characteristics depending whether they are built for online transactional processing (OLTP) or online analytical processing (OLAP), as summarized in the <a href="#tbl-oltp-olap" class="quarto-xref">Table&nbsp;1</a> below (taken from <span class="citation" data-cites="kleppmann2026designing">Kleppmann and Riccomini (<a href="#ref-kleppmann2026designing" role="doc-biblioref">2026</a>)</span>).</p>
<div id="tbl-oltp-olap" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-oltp-olap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Distinguishing characteristics between transactional and analytical systems
</figcaption>
<div aria-describedby="tbl-oltp-olap-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Transaction processing systems (OLTP)</th>
<th>Analytic systems (OLAP)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Main read pattern</td>
<td>Small number of records per query, fetched by key</td>
<td>Aggregate over large number of records</td>
</tr>
<tr class="even">
<td>Main write pattern</td>
<td>Random-access, low-latency writes from user input</td>
<td>Bulk import (ETL) or event stream</td>
</tr>
<tr class="odd">
<td>Data modeling</td>
<td>Predefined</td>
<td>Defined post-hoc, either schema-on-read or schema-on-write</td>
</tr>
<tr class="even">
<td>Primarily used by</td>
<td>End user/customer, via web application</td>
<td>Internal analyst, for decision support</td>
</tr>
<tr class="odd">
<td>What data represents</td>
<td>Latest state of data (current point in time)</td>
<td>History of events that happened over time</td>
</tr>
<tr class="even">
<td>Dataset size</td>
<td>Gigabytes to terabytes</td>
<td>Terabytes to petabytes</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>A second design criterium pertains to the choice of single-node (centralized) or distributed (decentralized) platforms, which are not only be driven by technical considerations (scalability, elasticity, fault tolerance, latency) but are also strongly dependent on organizational, legal or regulatory requirements such as data residency.</p>
<p>To complicate matters further, current efforts to design and implement the European Health Data Space (EHDS) in fact aims to support primary and secondary use in one go <span class="citation" data-cites="ehds">(<a href="#ref-ehds" role="doc-biblioref"><span>“European <span>Health Data Space Regulation</span> (<span>EHDS</span>)”</span> 2025</a>)</span>. This Herculean endeavour has spawned many initiatives to develop a coherent architecture and support implementation across Europe that ultimately should lead to interoperability in the broadest sense of the word, most notably:</p>
<ul>
<li>The Simpl Programme (<span class="citation" data-cites="simpl">(<a href="#ref-simpl" role="doc-biblioref"><span>“Simpl <span>Programme</span>”</span> n.d.</a>)</span>) that aims to develop an open source, secure middleware that supports data access and interoperability in European data initiatives. It provides multiple compatible components, free to use, that adhere to a common standard of data quality and data sharing.</li>
<li>TEHDAS2 (<span class="citation" data-cites="tehdas2">(<a href="#ref-tehdas2" role="doc-biblioref"><span>“<span>TEHDAS2</span>”</span> n.d.</a>)</span>), a joint action that prepares the ground for the harmonised implementation of the secondary use of health data in the EHDS.</li>
<li>The Data Space Blueprint v2.0 by the Data Spaces Support Centre (<span class="citation" data-cites="dssc2025data">(<a href="#ref-dssc2025data" role="doc-biblioref"><span>“Data <span>Spaces Blueprint</span> V2.0”</span> n.d.</a>)</span>) that serves as a vital guide for organizations building and participating in data spaces.</li>
</ul>
<p>To illustrate the current state of affairs, <a href="#tbl-types-hdp" class="quarto-xref">Table&nbsp;2</a> lists known examples of existing health data platform architectures along these two trade-offs.</p>
<div id="tbl-types-hdp" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-types-hdp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Broad categorization of health data platforms
</figcaption>
<div aria-describedby="tbl-types-hdp-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 29%">
<col style="width: 37%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>primary</th>
<th>secondary</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>centralized</strong></td>
<td>openHIE <span class="citation" data-cites="2024openhie">(<a href="#ref-2024openhie" role="doc-biblioref"><em><span>OpenHIE Framework</span> V5.2-En</em> 2024</a>)</span>, Digizorg, Nordics</td>
<td>kapseli, Mayo, …</td>
</tr>
<tr class="even">
<td><strong>decentralized</strong></td>
<td>RSO Zuid Limburg, Twiin portaal, …</td>
<td>many federated analytics research networks such as x-omics programme and EUCAIM</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>What then, is a viable development path out of this creative chaos?</p>
</section>
<section id="a-confluence-of-developments-towards-federated-data-systems" class="level2">
<h2 class="anchored" data-anchor-id="a-confluence-of-developments-towards-federated-data-systems">A confluence of developments towards federated data systems</h2>
<p>We observe a confluence of various trends into what we call federated data systems (FDS). The need for FDS is exemplified by the increasing number of research consortia that are using FDS in a wide diversity of domains. There are, however, a number of issues that need to be addressed to bring FDS to the highest technological readiness level (TRL) that is required for large-scale operations at the level of a country and even in a networks-of-networks as is required for the EHDS.</p>
<p>One of those issues pertains to the concept of ‘data stations’, which is the focus of this practice paper. Data stations are conceived as the foundational building block with which FDS are constructed, by and large inspired as how the Internet came into existence. As of today, different architectural patterns and solution designs are emerging, as for example:</p>
<ul>
<li>Fair Data Points (FDP) as data stations containing metadata and indexes, aimed at supporting localization of data [insert references]</li>
<li>Data stations in the sense of centralized federated learning networks, which is currently one of the most widely used solution designs for federated learning <span class="citation" data-cites="kapitan2025data rieke2020future">(<a href="#ref-kapitan2025data" role="doc-biblioref">Kapitan et al. 2025</a>; <a href="#ref-rieke2020future" role="doc-biblioref">Rieke et al. 2020</a>)</span></li>
<li>Graph-based data stations such as the Fair Data Cube <span class="citation" data-cites="liao2024fair">(<a href="#ref-liao2024fair" role="doc-biblioref">Liao et al. 2024</a>)</span> and the Swiss Personalized Health Network <span class="citation" data-cites="sphn">(<a href="#ref-sphn" role="doc-biblioref"><span>“<span>SPHN</span> - <span>Swiss Personalized Health Network</span> (<span>SPHN</span>)”</span> n.d.</a>)</span></li>
<li>Specifically in the Dutch context:
<ul>
<li>the definition of a data station for primary health data availibility by Cumuluz [add reference]</li>
<li>the definition of data stations by the Zorginstituut <span class="citation" data-cites="2024kikv">(<a href="#ref-2024kikv" role="doc-biblioref"><span>“<span>KIK-V</span> x <span>GERDA</span>”</span> 2024</a>)</span></li>
</ul></li>
</ul>
<p>At the same time, the computer science and engineering has developed couple of new concepts and technologies that make it easier to implement FDS:</p>
<ul>
<li><strong>Capabilities of edge computing and single-node computing has increased significantly</strong> whereby it is now possible to process up to 1 TB of tabular data on a single node thereby enabling large volumes of data processing to be done efficiently on a single data station <span class="citation" data-cites="raasveldt2019duckdb nahrstedt2024empirical">(<a href="#ref-raasveldt2019duckdb" role="doc-biblioref">Raasveldt and Mühleisen 2019</a>; <a href="#ref-nahrstedt2024empirical" role="doc-biblioref">Nahrstedt et al. 2024</a>)</span></li>
<li>The <strong>composable data stack</strong> provides a way to unbundle the venerable data base into loosely components, thereby making it easier and more practical to implement FDS, thereby opening up a transition path towards more modular and robust architectures <span class="citation" data-cites="pedreira2023composable composable">(<a href="#ref-pedreira2023composable" role="doc-biblioref">Pedreira et al. 2023</a>; <a href="#ref-composable" role="doc-biblioref"><span>“The <span>Composable Codex</span>”</span> n.d.</a>)</span></li>
<li>Federated machine learning (or federated learning in short) has matured as a means for training of predictive models, most notable through weights sharing of deep learning networks <span class="citation" data-cites="rieke2020future">(<a href="#ref-rieke2020future" role="doc-biblioref">Rieke et al. 2020</a>)</span></li>
<li>The increasing need for privacy-enhancing technologies (PETs) additionally fuels the development of FDS-related technologies, where technologies such as secure multi-party computation (MPC) are now sufficiently mature to be used on an industrial scale <span class="citation" data-cites="un2023pet-guide royalsociety2023privacy">(<a href="#ref-un2023pet-guide" role="doc-biblioref"><span>“The <span>PET Guide</span>”</span> 2023</a>; <a href="#ref-royalsociety2023privacy" role="doc-biblioref"><span>“From Privacy to Partnership”</span> 2023</a>)</span></li>
</ul>
<p>As noted by Perreira et al.&nbsp;(<a href="https://dl.acm.org/doi/10.14778/3603581.3603604">2023</a>), however:</p>
<blockquote class="blockquote">
<p>The requirement for specialization in data management systems has evolved faster than our software development practices. After decades of organic growth, this situation has created a siloed landscape composed of hundreds of products developed and maintained as monoliths, with limited reuse between systems. This fragmentation has resulted in developers often reinventing the wheel, increased maintenance costs, and slowed down innovation. It has also affected the end users, who are often required to learn the idiosyncrasies of dozens of incompatible SQL and non-SQL API dialects, and settle for systems with incomplete functionality and inconsistent semantics.</p>
</blockquote>
<p>This paper rises to their call to take a principled, open source approach to FDS aimed at “…standardizing different aspects of the data stack (…) advocating for a paradigm shift in how data management systems are designed”, focusing on FDS for secondary use in healthcare, that is, federated analytics and federated learning.</p>
<ol type="1">
<li>functional architecture and specification of FDS for healthcare that integrates various common practices and blueprints from the data engineering community; we explicitly aim to clarify the different perspectives, namely:</li>
</ol>
<ul>
<li>requirements from primary vs secondary use, critically evaluating whether it is possible to support both with one solution design for a data station</li>
<li>address various aspects of interoperability by explicitly detailing the architecture in using the layers pattern <span class="citation" data-cites="buschmann1996system">(<a href="#ref-buschmann1996system" role="doc-biblioref">Buschmann et al. 1996</a>)</span></li>
<li>address various solution designs for the extract-transform-load (ETL) mechanisms using the pipes and filters pattern <span class="citation" data-cites="buschmann1996system">(<a href="#ref-buschmann1996system" role="doc-biblioref">Buschmann et al. 1996</a>)</span></li>
<li>address various solution designs for federated learning for horizontal vs.&nbsp;vertically partitioned data and solution involving secure processing environments (SPEs) as defined in the EHDS</li>
</ul>
<ol start="2" type="1">
<li>a reference implementation in the Python-Rust data stack that is quickly emerging as a new <em>de facto</em> standard for performant and reliable analytical processing;</li>
</ol>
</section>
<section id="desiderata-of-federated-data-systems" class="level2">
<h2 class="anchored" data-anchor-id="desiderata-of-federated-data-systems">Desiderata of federated data systems</h2>
<p>We take Klepmann (2017) as our starting point, who states that “Many applications today are&nbsp;<em>data-intensive</em>, as opposed to&nbsp;<em>compute-intensive</em>.&nbsp;Raw CPU power is rarely a limiting factor for these applications—bigger problems are usually the amount of data, the complexity of data, and the speed at which it is changing.”</p>
<p>Generically, we want:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 34%">
<col style="width: 29%">
<col style="width: 35%">
</colgroup>
<thead>
<tr class="header">
<th>Reliability</th>
<th>Scalability</th>
<th>Maintainability</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>tolerating hardware &amp; software vaults</td>
<td>Measuring load &amp; performance</td>
<td>Operability, simplicity &amp; evolvability</td>
</tr>
<tr class="even">
<td>human error</td>
<td>Latency percentiles, throughput</td>
<td></td>
</tr>
</tbody>
</table>
<p>We focus on analytical data systems, with different patterns from transactional data systems.</p>
<section id="design-principles-of-analytical-data-systems" class="level3">
<h3 class="anchored" data-anchor-id="design-principles-of-analytical-data-systems">Design principles of analytical data systems</h3>
<p>These functional requirements lead us to the following design principles</p>
<ul>
<li><strong>Colum-oriented storage and memory layout:</strong> Apache Arrow ecosystem, including Apache Flight</li>
<li><strong>Late-binding with logical data models most suited for analytics:</strong> ELT pattern with zonal architecture
<ul>
<li><em>staging zone:</em> hard business rules (does incoming data comply to syntactic standard), change data capture</li>
<li><em>linkage &amp; conformity zone:</em> concept-oriented tables, typically following a data vault modeling principle, ascertain referential integrity across resources, with tables per concept and linking tables. Mapping to coding systems. Entity resolution for record linkage at the subject level</li>
<li><em>consumption zone:</em> convenient standardized views like an event table (patient journey, layout for process mining) with uniformity of dimensions using a star schema</li>
</ul></li>
</ul>
</section>
<section id="reference-implementation-with-current-open-source-software-oss-components" class="level3">
<h3 class="anchored" data-anchor-id="reference-implementation-with-current-open-source-software-oss-components">Reference implementation with current open source software (OSS) components</h3>
<p>At the lower, technical, levels we follow the rationale of the composable data stack</p>
<ul>
<li>Python and SQL(-like) languages as the <em>de facto</em> standard for analytical processing i.e.&nbsp;the most commonly used analytical scripting languages. Where necessary, using Intermediate Representations (IR), any analytical query can be transpiled to the target engine of choice</li>
<li>Single-node compute capable of efficiently processing up to 1 TB of data within tens of seconds (polars, DuckDB), so we do away with distributed processing</li>
<li>Open table formats (Iceberg, Hudi, Delta) and open file formats (parquet, AVRO)</li>
</ul>
</section>
<section id="bringing-it-all-together-for-federated-analytics-machine-learning-fl" class="level3">
<h3 class="anchored" data-anchor-id="bringing-it-all-together-for-federated-analytics-machine-learning-fl">Bringing it all together for federated analytics &amp; machine learning (FL)</h3>
<ul>
<li>Local data stations are conceptualized as serverless lakehouses
<ul>
<li>Local ELT pipelines</li>
<li>Decentralized (pre-)processing, including quality control upon ingest</li>
<li>…</li>
</ul></li>
<li>For horizontally partioned data, we can apply FL techniques where only aggregated results are combined centrally</li>
<li>For vertically partitioned data, we need an intermediate/temporary zone for linking the data</li>
<li>For both horizontally and vertically partitioned data, we can choose to add PETs, most specifically MPC, as an extra security measure
<ul>
<li>Horizontally partitioned data: <a href="https://rosemanlabs.com/en/blogs/privacy-safe-federated-learning">one-shot FL</a></li>
<li>Vertically partitioned data:</li>
<li>linkage in the blind</li>
<li>reversible pseudonimization</li>
</ul></li>
<li>standardized approach to mapppings <span class="citation" data-cites="zhang2024crossstandard">(<a href="#ref-zhang2024crossstandard" role="doc-biblioref">Zhang, Cornet, and Benis 2024</a>)</span></li>
</ul>
</section>
</section>
<section id="parking-lot" class="level2">
<h2 class="anchored" data-anchor-id="parking-lot">Parking lot</h2>
<ul>
<li>Difference with data mesh: mesh of domains, federation is in the same domain. Underlying technology of a data station, however, is functionally identical</li>
</ul>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-buschmann1996system" class="csl-entry" role="listitem">
Buschmann, Frank, Regine Meunier, Hans Rohnert, Peter Sommerlad, and Michael Stal. 1996. <em>A <span>System</span> of <span>Patterns</span></em>. Vol. 1. Pattern-<span>Oriented Software Architecture</span>. Wiley.
</div>
<div id="ref-cascini2024health" class="csl-entry" role="listitem">
Cascini, Fidelia, Ana Pantovic, Yazan A. Al-Ajlouni, Valeria Puleo, Lucia De Maio, and Walter Ricciardi. 2024. <span>“Health Data Sharing Attitudes Towards Primary and Secondary Use of Data: A Systematic Review.”</span> <em>eClinicalMedicine</em> 71 (May): 102551. <a href="https://doi.org/10.1016/j.eclinm.2024.102551">https://doi.org/10.1016/j.eclinm.2024.102551</a>.
</div>
<div id="ref-dssc2025data" class="csl-entry" role="listitem">
<span>“Data <span>Spaces Blueprint</span> V2.0.”</span> n.d. Accessed June 9, 2025. <a href="https://dssc.eu/space/BVE2/1071251457/Data+Spaces+Blueprint+v2.0+-+Home">https://dssc.eu/space/BVE2/1071251457/Data+Spaces+Blueprint+v2.0+-+Home</a>.
</div>
<div id="ref-ehds" class="csl-entry" role="listitem">
<span>“European <span>Health Data Space Regulation</span> (<span>EHDS</span>).”</span> 2025. June 4, 2025. <a href="https://health.ec.europa.eu/ehealth-digital-health-and-care/european-health-data-space-regulation-ehds_en">https://health.ec.europa.eu/ehealth-digital-health-and-care/european-health-data-space-regulation-ehds_en</a>.
</div>
<div id="ref-royalsociety2023privacy" class="csl-entry" role="listitem">
<span>“From Privacy to Partnership.”</span> 2023. The Royal Society.
</div>
<div id="ref-kapitan2025data" class="csl-entry" role="listitem">
Kapitan, Daniel, Femke Heddema, André Dekker, Melle Sieswerda, Bart-Jan Verhoeff, and Matt Berg. 2025. <span>“Data <span>Interoperability</span> in <span>Context</span>: <span>The Importance</span> of <span>Open-Source Implementations When Choosing Open Standards</span>.”</span> <em>Journal of Medical Internet Research</em> 27 (1): e66616. <a href="https://doi.org/10.2196/66616">https://doi.org/10.2196/66616</a>.
</div>
<div id="ref-2024kikv" class="csl-entry" role="listitem">
<span>“<span>KIK-V</span> x <span>GERDA</span>.”</span> 2024. Zorginstituut. <a href="https://populationhealthdata.nl/wp-content/uploads/2024/07/Whitepaper-GERDA-x-KIK-V_-databeschikbaarheid-door-hergebruik.pdf">https://populationhealthdata.nl/wp-content/uploads/2024/07/Whitepaper-GERDA-x-KIK-V_-databeschikbaarheid-door-hergebruik.pdf</a>.
</div>
<div id="ref-kleppmann2026designing" class="csl-entry" role="listitem">
Kleppmann, Martin, and Chris Riccomini. 2026. <em>Designing Data-Intensive Applications, 2nd Edtion (Early Release)</em>. O’Reilly.
</div>
<div id="ref-liao2024fair" class="csl-entry" role="listitem">
Liao, Xiaofeng, Thomas H.A. Ederveen, Anna Niehues, Casper de&nbsp;Visser, Junda Huang, Firdaws Badmus, Cenna Doornbos, et al. 2024. <span>“<span>FAIR Data Cube</span>, a <span>FAIR</span> Data Infrastructure for Integrated Multi-Omics Data Analysis.”</span> <em>Journal of Biomedical Semantics</em> 15 (1): 20. <a href="https://doi.org/10.1186/s13326-024-00321-2">https://doi.org/10.1186/s13326-024-00321-2</a>.
</div>
<div id="ref-nahrstedt2024empirical" class="csl-entry" role="listitem">
Nahrstedt, Felix, Mehdi Karmouche, Karolina Bargieł, Pouyeh Banijamali, Apoorva Nalini Pradeep Kumar, and Ivano Malavolta. 2024. <span>“An <span>Empirical Study</span> on the <span>Energy Usage</span> and <span>Performance</span> of <span>Pandas</span> and <span>Polars Data Analysis Python Libraries</span>.”</span> In <em>Proceedings of the 28th <span>International Conference</span> on <span>Evaluation</span> and <span>Assessment</span> in <span>Software Engineering</span></em>, 58–68. Salerno Italy: ACM. <a href="https://doi.org/10.1145/3661167.3661203">https://doi.org/10.1145/3661167.3661203</a>.
</div>
<div id="ref-2024openhie" class="csl-entry" role="listitem">
<em><span>OpenHIE Framework</span> V5.2-En</em>. 2024. <a href="https://ohie.org/">https://ohie.org/</a>.
</div>
<div id="ref-pedreira2023composable" class="csl-entry" role="listitem">
Pedreira, Pedro, Orri Erling, Konstantinos Karanasos, Scott Schneider, Wes McKinney, Satya R Valluri, Mohamed Zait, and Jacques Nadeau. 2023. <span>“The <span>Composable Data Management System Manifesto</span>.”</span> <em>Proceedings of the VLDB Endowment</em> 16 (10): 2679–85. <a href="https://doi.org/10.14778/3603581.3603604">https://doi.org/10.14778/3603581.3603604</a>.
</div>
<div id="ref-raasveldt2019duckdb" class="csl-entry" role="listitem">
Raasveldt, Mark, and Hannes Mühleisen. 2019. <span>“<span>DuckDB</span>: An <span>Embeddable Analytical Database</span>.”</span> In <em>Proceedings of the 2019 <span>International Conference</span> on <span>Management</span> of <span>Data</span></em>, 1981–84. Amsterdam Netherlands: ACM. <a href="https://doi.org/10.1145/3299869.3320212">https://doi.org/10.1145/3299869.3320212</a>.
</div>
<div id="ref-rieke2020future" class="csl-entry" role="listitem">
Rieke, Nicola, Jonny Hancox, Wenqi Li, Fausto Milletarì, Holger R. Roth, Shadi Albarqouni, Spyridon Bakas, et al. 2020. <span>“The Future of Digital Health with Federated Learning.”</span> <em>Npj Digital Medicine</em> 3 (1, 1): 1–7. <a href="https://doi.org/10.1038/s41746-020-00323-1">https://doi.org/10.1038/s41746-020-00323-1</a>.
</div>
<div id="ref-simpl" class="csl-entry" role="listitem">
<span>“Simpl <span>Programme</span>.”</span> n.d. Accessed June 9, 2025. <a href="https://simpl-programme.ec.europa.eu/">https://simpl-programme.ec.europa.eu/</a>.
</div>
<div id="ref-sphn" class="csl-entry" role="listitem">
<span>“<span>SPHN</span> - <span>Swiss Personalized Health Network</span> (<span>SPHN</span>).”</span> n.d. SPHN. Accessed June 9, 2025. <a href="https://sphn.ch/">https://sphn.ch/</a>.
</div>
<div id="ref-tehdas2" class="csl-entry" role="listitem">
<span>“<span>TEHDAS2</span>.”</span> n.d. Tehdas. Accessed June 9, 2025. <a href="https://tehdas.eu/">https://tehdas.eu/</a>.
</div>
<div id="ref-composable" class="csl-entry" role="listitem">
<span>“The <span>Composable Codex</span>.”</span> n.d. Voltron Data. Accessed October 16, 2024. <a href="https://voltrondata.com/codex.html">https://voltrondata.com/codex.html</a>.
</div>
<div id="ref-un2023pet-guide" class="csl-entry" role="listitem">
<span>“The <span>PET Guide</span>.”</span> 2023. United Nations. <a href="https://unstats.un.org/bigdata/task-teams/privacy/guide/">https://unstats.un.org/bigdata/task-teams/privacy/guide/</a>.
</div>
<div id="ref-zhang2024crossstandard" class="csl-entry" role="listitem">
Zhang, Shuxin, Ronald Cornet, and Nirupama Benis. 2024. <span>“Cross-<span>Standard Health Data Harmonization</span> Using <span>Semantics</span> of <span>Data Elements</span>.”</span> <em>Scientific Data</em> 11 (1): 1407. <a href="https://doi.org/10.1038/s41597-024-04168-1">https://doi.org/10.1038/s41597-024-04168-1</a>.
</div>
</div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@article{kapitan2025,
  author = {Kapitan, Daniel and Broeren, Jack and Beliën, Jeroen and
    Bolding, Niels and van der Loop, Stefan and Vinkesteijn, Yannick and
    de Ligt, Joep},
  title = {Layers, Pipes and Patterns: Detailing the Concept of Data
    Stations as a Foundational Building Block for Federated Data Systems
    in Healthcare},
  journal = {GitHub},
  pages = {1-3},
  date = {2025-06-01},
  url = {https://github.com/health-ri/aida},
  langid = {en},
  abstract = {We describe ...}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-kapitan2025" class="csl-entry quarto-appendix-citeas" role="listitem">
Kapitan, Daniel, Jack Broeren, Jeroen Beliën, Niels Bolding, Stefan van
der Loop, Yannick Vinkesteijn, and Joep de Ligt. 2025. <span>“Layers,
Pipes and Patterns: Detailing the Concept of Data Stations as a
Foundational Building Block for Federated Data Systems in
Healthcare.”</span> <em>GitHub</em>, June, 1–3. <a href="https://github.com/health-ri/aida">https://github.com/health-ri/aida</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/Health-RI\.github\.io\/AIDA\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
<script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "health-ri/aida";
    script.dataset.repoId = "R_kgDON3d1ew";
    script.dataset.category = "General";
    script.dataset.categoryId = "DIC_kwDON3d1e84Cm9sb";
    script.dataset.mapping = "title";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "top";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script>
</div> <!-- /content -->




</body></html>